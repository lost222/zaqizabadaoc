# 毕业论文更改

1. 在第三章基于RSS的信息聚合平台需求分析，调整了文章组织，修正了一章下只有一节的情况。在功能需求一节中， 加入了普通用户用例图， 管理员用户用例图， 账号登录用例图。 并且以用例图为中心重新了功能需求一节。 使之更加明确。

2. 更改了第四章基于RSS的信息聚合平台架构设计，4.3.4小节   Mysql:数据库表和索引的设计。 加入了ER图，以ER图为中心重新梳理了数据库。加入了一张表，每张表都加入了一些数据。更正了对于二级索引key的描述。





| 数据项编号 | 数据项名称 | 数据项类型 | 备注             |
| ---------- | ---------- | ---------- | ---------------- |
| 1          | name       | string     | 使用TOKEN的用户  |
| 2          | Audience   | string     | 声明受众         |
| 3          | ExpiresAt  | int64      | 过期时间         |
| 4          | Id         | string     | Id               |
| 5          | IssuedAt   | int64      | 声明颁发时间     |
| 6          | Issuer     | string     | 声明颁发者       |
| 7          | NotBefore  | int64      | 开始接受令牌时间 |
| 8          | Subject    | string     | 声明主题         |




| 方法名      | 传入参数  | 传出参数  | 备注          |
| ----------- | --------- | --------- | ------------- |
| CreateToken | UserClaim | Token     | 生成JWT token |
| ParserToken | Token     | UserClaim | 解析JWT token |



数据库设计

前端用户订阅列表实现
前端单条订阅浏览实现



| 名称       | 含义     | 类型             | 备注                   |
| ---------- | -------- | ---------------- | ---------------------- |
| id         | Id       | int(10) unsigned | 主键，自增             |
| created_at | 创建时间 | datetime         | gorm生成               |
| updated_at | 更新时间 | datetime         | gorm生成               |
| deleted_at | 删除时间 | datetime         | gorm生成               |
| username   | 用户名   | varchar(20)      | 唯一                   |
| usermail   | 用户邮箱 | varchar(20)      | 注册时候填写           |
| role       | 权限     | int(10)          | 普通用户2，管理员用户1 |
| password   | 密码     | varchar(256)     | 哈希后                 |


feed
| 名称       | 含义     | 类型             | 备注               |
| ---------- | -------- | ---------------- | ------------------ |
| id         | Id       | int(10) unsigned | 主键，自增         |
| created_at | 创建时间 | datetime         | gorm生成           |
| updated_at | 更新时间 | datetime         | gorm生成           |
| deleted_at | 删除时间 | datetime         | gorm生成           |
| rssurl     | RSS链接  | varchar(256)     | 唯一               |
| feedname   | 标题     | varchar(256)     | RSS XML的title元素 |
| feed_desc  | 简介     | varchar(256)     | RSS XML的description元素 |
| lates_title | 最近更新 | varchar(256)     | RSS XML的item元素里最新的    |



record

| 名称       | 含义     | 类型             | 备注               |
| ---------- | -------- | ---------------- | ------------------ |
| id         | Id       | int(10) unsigned | 主键，自增         |
| created_at | 创建时间 | datetime         | gorm生成           |
| updated_at | 更新时间 | datetime         | gorm生成           |
| deleted_at | 删除时间 | datetime         | gorm生成           |
| username | User表的username | varchar(20) | 二级索引key |
| rssurl | my_feed表的rssurl | varchar(256) | 二级索引key |
| fav | 收藏夹 | varchar(256) | 唯一 |


