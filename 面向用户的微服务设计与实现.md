# 面向用户的微服务设计与实现

## 后端的设计与实现

1. 向外提供的接口设计

   后端直接使用HTTP协议向外提供服务接口。按照权限，后端一共向往提供的接口分为三种。 

   首先，对于普通用户，后端提供的接口有：

| 接口           | HTTP访问方式 | 参数        | 功能                         |
| -------------- | ------------ | ----------- | ---------------------------- |
| /feeds         | GET          | 无          | 获取当前用户的所有订阅       |
| /feed/info     | GET          | feedid      | 获取一个特定订阅的更新       |
| /feed/list     | GET          | fav         | 获取当前用户一个收藏夹的订阅 |
| /subscribe/add | POST         | rssurl, fav | 为当前用户添加一条订阅       |
| /subscribe/del | POST         | rssurl      | 为当前用户删除订阅           |

后端通过JWT token来区分谁是当前发出访问的用户， 具体流程将在下文统一认证微服务实现中详细介绍。 



其次，对于管理员用户， 后端服务提供的接口有：


| 接口         | HTTP访问方式 | 参数                        | 功能             |
| ------------ | ------------ | --------------------------- | ---------------- |
| /users       | GET          | 无                          | 展示用户列表     |
| /user/add    | POST         | username, password,usermail | 添加一个普通用户 |
| /user/del    | POST         | username                    | 删除一个普通用户 |
| /user/active | GET          | 无                          | 展示当前活跃用户 |
| /pushservice | GET          | 无                          | 启动一次推微服务 |

最后，对于未登录用户，后端提供登录接口\login，允许通过用户名和密码登录。




1. 接口服务流程与功能实现。

   本小节介绍除了增删查改之外，几个比较关键的功能的服务流程与函数实现。 







## WEB端设计与实现

1. 展示页面设计
2. 前后端交互流程
3. 核心功能函数
4. 实现截图



# 统一认证微服务实现

1. 向外提供的接口设计
2. 接口服务流程

3. 核心功能函数
   1. 服务初始化
   2. 服务函数



# 推服务

1. 向外提供的接口设计
2. 接口服务流程

3. 核心功能函数
